@model OrderDetailsVm

<!-- Single Page Header start -->
<div class="container-fluid page-header py-5">
    <h1 class="text-center text-white display-6">Order Details</h1>
    <ol class="breadcrumb justify-content-center mb-0">
        <li class="breadcrumb-item"><a asp-action="MyOrders">@Context.Request.Path.ToString().Replace(Context.Request.Path.ToString(), "Orders")</a></li>
        <li class="breadcrumb-item"><a href="#">@Context.Request.Path.ToString().Replace(Context.Request.Path.ToString(), "Order Details")</a></li>
    </ol>
</div>
<!-- Single Page Header End -->
@{
    if (Model != null)
    {
        <div class="container">
            <article class="card">
                <header class="card-header"> Order Details / Tracking </header>
                <div class="card-body">
                    <h6>Order ID: @Model.OrderId</h6>
                    <article class="card">
                        <div class="card-body row">
                            <div class="col"> <strong>Estimated Delivery time:</strong> <br>@Model.EstimatedDeliveryTime?.ToString("yyyy/MM/dd") </div>
                            <div class="col"> <strong>Shipping BY:</strong> <br> @Model.Shipper, | <i class="fa fa-phone"></i> @Model.ShipperTel </div>
                            <div class="col"> <strong>Status:</strong> <br> @Model.OrderStatus </div>
                            @*<div class="col"> <strong>Tracking #:</strong> <br> TBD </div>*@
                        </div>
                    </article>

                    <div class="track">
                        <div class="step @(Model.OrderStatus == "Pending" ? "active" : "")">
                            <span class="icon"> <i class="fas fa-clock fa-lg"></i> </span>
                            <span class="text">Pending</span>
                        </div>
                        <div class="step @(Model.OrderStatus == "Accepted" ? "active" : "")">
                            <span class="icon"> <i class="fas fa-check-circle fa-lg"></i> </span>
                            <span class="text">Accepted</span>
                        </div>
                        <div class="step @(Model.OrderStatus == "OnTheWay" ? "active" : "")">
                            <span class="icon"> <i class="fas fa-truck fa-lg"></i> </span>
                            <span class="text">On the way</span>
                        </div>
                        <div class="step @(Model.OrderStatus == "Delivered" ? "active" : "")">
                            <span class="icon"> <i class="fas fa-box fa-lg"></i> </span>
                            <span class="text">Delivered</span>
                        </div>
                    </div>

                    <hr>
                    <ul class="row">
                        @foreach (var item in Model.OrderDetails)
                        {
                            <li class="col-md-4">
                                <figure class="itemside mb-3">
                                    <div class="aside"><img src="~/@item.ProductImageUrl" class="img-sm border"></div>
                                    <figcaption class="info align-self-center">
                                        <p class="title"> 
                                            <a asp-action="Detail" asp-controller="Products" asp-route-Id="@item.ProductId">@item.ProductName</a>
                                            <br> @item.Quantity  x  ₼@item.UnitPrice
                                        </p>
                                        <span class="text-muted">₼@((item.Quantity * item.UnitPrice))</span>
                                    </figcaption>
                                </figure>
                            </li>
                        }
                    </ul>
                    <hr>
                    <a asp-action="MyOrders" class="btn btn-primary" style="color:honeydew" data-abc="true"> <i class="fa fa-chevron-left"></i> Back To Orders</a>
                </div>
            </article>
        </div>
    }
}

@section MyOrderDetailsCss {
    <link href="~/css/my-orderdetails.css" rel="stylesheet">
}
